<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../checkForm/bai4themjs.js"></script>

    <style>
        form {
            background-color: rgb(109, 192, 84);
            padding: 30px;
            width: 400px;
            margin: 0 auto;
        }
        
        input {
            border-radius: 20px;
            border: 2px solid yellow;
            box-shadow: inset 0 0 2px black;
        }
        
        select {
            border-radius: 20px;
            border: 2px solid yellow;
            box-shadow: inset 0 0 2px black;
            font-weight: 600;
            font-variant: small-caps;
        }
        
        h2 {
            text-align: center;
        }
        
        button {
            width: 100px;
            height: 30px;
            border-radius: 20px;
            margin-left: 90px;
            border: 1px solid yellow;
            box-shadow: inset 0 0 2px black;
            font-size: 15px;
            font-weight: 600;
            font-variant: small-caps;
        }
        
        button:hover {
            background-color: red;
            transition: 0.6s;
            color: yellow;
        }
        
        span {
            margin-left: 10px;
            color: rgb(133, 5, 5);
        }
    </style>
</head>
ss

<body>
    <form action="" onsubmit="return hople()">
        <h2>FORM ĐĂNG KÝ H</h2>
        <table cellpadding='5'>
            <tr>
                <td>
                    Email:
                </td>
                <td>
                    <input type="text" id="email">
                    <span id="z-email"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Học phí:
                </td>
                <td>
                    <input type="text" id="password">
                    <span id="z-password"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Khoá học:
                </td>
                <td>
                    <select id="khoahoc" onclick="hocphi()">
                        <option value="" onclick="hocphi()"></option>
                        <option value="1" onclick="hocphi()">Khoá HTML</option>
                        <option value="2" onclick="hocphi()">Khoá CSS</option>
                        <option value="3" onclick="hocphi()">Khoá Javascripts</option>
                    </select>
                    <span id="z-khoahoc"></span>
                </td>
            </tr>
            <tr>
                <td>Tiền hình thức học:</td>
                <td>
                    <input type="text" id="ththhoc">
                </td>
            </tr>
            <tr>
                <td>Hình thức học: </td>
                <td>
                    Tại trường:
                    <input type="radio" name="ok" onclick="chon()"> Học online:
                    <input type="radio" name="ok" onclick="chon()">

                </td>
            </tr>
            <tr>
                <td>
                    Loại hàng:
                </td>
                <td>
                    <select id="loaihang" onclick="loai()">
                        <option value="" onclick="loai()"></option>
                        <option value="1" onclick="loai()">Loại 1</option>
                        <option value="2" onclick="loai()">Loại 2</option>
                        <option value="3" onclick="loai()">Loại 3</option>
                    </select>
                    <span id="z-loaihang"></span>
                </td>
            </tr>
            <tr>
                <td>Số lượng</td>
                <td>
                    <input type="text" id="soluong" onkeyup="Tt()">
                    <span id="z-soluong"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Đơn giá:
                </td>
                <td>
                    <input type="text" id="price" onkeyup="Tt()">
                </td>
            </tr>
            <tr>
                <td>Thành tiền: </td>
                <td>
                    <input type="text" id="thanhtien">
                </td>
            </tr>
            <tr>
                <td>Nơi nhận hàng: </td>
                <td>
                    Nội thành
                    <input type="radio" name="ok1" onclick="check()"> Ngoại thành
                    <input type="radio" name="ok1" onclick="check()">
                </td>
            </tr>
            <tr>
                <td>Phí vận chuyển: </td>
                <td>
                    <input type="text" id="phiVC">
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <button id="bt" type="submit">Dang Ky</button>
                </td>
            </tr>
        </table>
    </form>

    <script>
        function hople() {

            var username = document.getElementById('username');
            var phone = document.getElementById('phone');
            var email = document.getElementById('email');
            var khoahoc = document.getElementById('khoahoc');
            var soluong = document.getElementById('soluong');
            var loaihang = document.getElementById('loaihang');
            var noinhanhang = document.getElementsByName('ok1');



            var err1 = document.getElementById('z-username');
            var err2 = document.getElementById('z-phone');
            var err3 = document.getElementById('z-email');
            var err6 = document.getElementById('z-khoahoc');
            var err7 = document.getElementById('z-soluong');
            var err8 = document.getElementById('z-loaihang');

            let regax = '[0-9]$'
            if (username.value.match(regax) || username.value == "") {
                username.style.border = '1px solid red';
                err1.innerHTML = 'Error!!!'
                return false
            } else {
                err1.innerHTML = 'Ok!!!'
                username.style.border = '1px solid green'
                err1.style.color = 'yellow'
            }

            let regaxPhone = '^0[0-9]{9}$'
            if (!phone.value.match(regaxPhone) || phone.value == "") {
                phone.style.border = '1px solid red';
                err2.innerHTML = 'Error!!!'
                return false
            } else {
                err2.innerHTML = 'Ok!!!'
                phone.style.border = '1px solid green'
                err2.style.color = 'yellow'

            }

            var regaxEmail = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (!email.value.match(regaxEmail) || email.value == "") {
                email.style.border = '1px solid red';
                err3.innerHTML = 'Error!!!'
                return false
            } else {
                err3.innerHTML = 'Ok!!!'
                email.style.border = '1px solid green'
                err3.style.color = 'yellow'

            }

            if (khoahoc.value == "") {
                khoahoc.style.border = '1px solid red';
                err6.innerHTML = 'Error!!!'
                return false
            } else {
                err6.innerHTML = 'Ok!!!'
                khoahoc.style.border = '1px solid green'
                err6.style.color = 'yellow'
            }

            if (loaihang.value == "") {
                loaihang.style.border = '1px solid red';
                err8.innerHTML = 'Error!!!'
                return false
            } else {
                err8.innerHTML = 'Ok!!!'
                loaihang.style.border = '1px solid green'
                err8.style.color = 'yellow'
            }


            if (soluong.value == "") {
                soluong.style.border = '1px solid red';
                err7.innerHTML = 'Error!!!'
                return false
            } else {
                err7.innerHTML = 'Ok!!!'
                soluong.style.border = '1px solid green'
                err7.style.color = 'yellow'
            }


            var hthoc = document.getElementsByName('ok');
            if (hthoc[0].checked || hthoc[1].checked) {
                // setTimeout("delayer()", 1000);
                alert('đăng ký thành công');
                return true;
            } else {
                alert('Vui lòng chọn!!!');
                return false;
            }
        }

        function chon() {
            var hthoc = document.getElementsByName('ok');
            if (hthoc[0].checked) {
                ththhoc.value = ""
            }
            if (hthoc[1].checked)
                ththhoc.value = 1000000;
        }


        function hocphi() {
            var khoahoc = document.getElementById('khoahoc');
            if (khoahoc.value == "") {
                password.value = "";
                khoahoc.style.border = '1px solid red';
                return false
            } else if (khoahoc.value == '1') {
                password.value = 500 + 'vnđ';
            } else if (khoahoc.value == '2') {
                password.value = 700 + 'vnđ';
            } else if (khoahoc.value == '3') {
                password.value = 1000 + 'vnđ';
            }
        }

        function loai() {
            var loaihang = document.getElementById('loaihang');
            if (loaihang.value == "") {
                price.value = "";
            } else if (loaihang.value == '1') {
                price.value = 300000;
            } else if (loaihang.value == '2') {
                price.value = 200000;
            } else if (loaihang.value == '3') {
                price.value = 100000;
            }
        }

        function Tt() {
            var soluong = document.getElementById('soluong').value;
            var dongia = document.getElementById('price').value;
            var tt = document.getElementById('thanhtien');
            tt.value = ((dongia * 1) * (soluong * 1)) + (phiVC.value * 1);
        }

        function check() {
            var chosse = document.getElementsByName('ok1');
            if (chosse[0].checked) {
                phiVC.value = ""
            } else if (chosse[1].checked) {
                phiVC.value = 10000;
            }
            return Tt();
        }
    </script>
</body>

</html>